# 관계 대수와 SQL

## SQL

* SQL은 현재 DBMS 시장에서 관계 DBMS가 압도적인 우위를 차지하는 데 중요한 요인의 하나
* SQL은 IBM 연구소에서 1974년에 System R이라는 관계 DBMS 시제품을 연구할 때 관계 대수와 관계 해석을 기반으로, 집단 함수, 그룹화, 갱신 연산 등을 추가하여 개발된 언어
* 1986년에 ANSI에서 SQL 표준을 채택함으로써 SQL이 널리 사용되는 데 기여함
* 다양한 상용 관계 DBMS마다 지원하는 SQL 기능에 다소 차이가 있음

### 특징

* SQL은 비절차적 언어(선언적 언어)이므로 사용자는 자신이 원하는 바만 명시하며 원하는 것을 처리하는 방법은 명시할 수 없음
* 관계 DBMS는 사용자가 입력한 SQL을 번역하여 사용자가 요구한 데이터를 찾는 데 필요한 모든 과정을 담당
* 자연어에 가까운 구문을 사용하여 질의를 표현할 수 있음

## SQL 구성 요소

### 데이터 정의어(DDL)

* CREATE
    * DOMAIN
    * TABLE
    * VIEW
    * INDEX
    * SCHEMA(DB 응용-도메인, 권한, 뷰 등-에 대한 내용을 그룹화하기 위해 지원)

* ALTER
    * TABLE

* DROP
    * DOMAIN
    * TABLE
    * VIEW
    * INDEX

### 데이터 조작어(DML)

* SELECT

#### NULL

* null 포함해 연산을 할 경우 그 결괏값 역시 null
* count() 외 집단 함수들은 null 무시

### ORDER BY

* 사용자가 SELECT 질의에서 결과의 순서를 명시하지 않으면 릴레이션에 튜플들이 삽입된 순서로 제시됨

### 집단 함수

* DB에서 검색된 여러 튜플들의 집단에 적용하는 함수
* 한 릴레이션의 한 애트리뷰트에 적용되어 단일 값을 반환함
* SELECT, HAVING 절에서면 사용 가능함
* COUNT(*) 구문은 릴레이션의 모든 행들의 개수를 구하는 반면, COUNT(attribute) 구문은 해당 애트리뷰트에서 null 값이 아닌 값들의 개수를 구함
* DISTINCT 구문이 집단 함수 앞에 사용되면 집단 함수가 적용되기 전에 먼저 중복을 재거함

### GROUP BY

* 동일한 값을 갖는 튜플등르 하나의 그룹으로 묶음
* SELECT 구문에서는 각 그룹마다 하나의 값을 갖는 애트리뷰터에 사용된 애트리뷰트들만 나타날 수 있음
